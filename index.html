<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>L'Étoile XVII • Tarot NFC • Innovation Brevetée</title>
    <meta name="robots" content="noindex, nofollow, noarchive, nosnippet">
    <link rel="icon" type="image/png" href="assets/logos/favicon.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,400&display=swap" rel="stylesheet">
    <meta name="description" content="L'Étoile - Arcane XVII. Expérience immersive de tarot avec technologie NFC. Hypnose, méditation, guidance spirituelle et sagesse ancestrale.">
    <style>
        :root {
            --primary-purple: #6366f1;
            --secondary-purple: #8b5cf6;
            --deep-purple: #4c1d95;
            --royal-purple: #5b21b6;
            --gold: #f59e0b;
            --light-gold: #fbbf24;
            --white: #ffffff;
            --off-white: #f8fafc;
            --glass-bg: rgba(255, 255, 255, 0.1);
            --glass-border: rgba(255, 255, 255, 0.2);
            --shadow-lg: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            --shadow-xl: 0 35px 60px -12px rgba(0, 0, 0, 0.3);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #1e1b4b 0%, #312e81 25%, #3730a3 50%, #4338ca 75%, #4f46e5 100%);
            background-attachment: fixed;
            color: var(--white);
            line-height: 1.6;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .grain-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.03'/%3E%3C/svg%3E");
            pointer-events: none;
            z-index: 1;
        }

        /* Page d'activation */
        .activation-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #1e1b4b 0%, #312e81 25%, #3730a3 50%, #4338ca 75%, #4f46e5 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            transition: opacity 1s ease, visibility 1s ease;
            padding: 20px;
        }

        .activation-screen.hidden {
            opacity: 0;
            visibility: hidden;
            pointer-events: none;
        }

        .activation-container {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 2px solid var(--glass-border);
            border-radius: 24px;
            padding: 48px;
            max-width: 500px;
            width: 100%;
            text-align: center;
            box-shadow: var(--shadow-xl);
            position: relative;
        }

        .activation-container::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, var(--primary-purple), var(--secondary-purple), var(--gold), var(--primary-purple));
            border-radius: 26px;
            z-index: -1;
            background-size: 300% 300%;
            animation: gradientRotate 4s ease infinite;
        }

        /* Logo dans l'activation - compact */
        .activation-logo {
            width: 120px;
            height: 29px;
            background: url('assets/logos/hypnotarot-compact.png') center/contain no-repeat;
            margin: 0 auto 20px auto;
            border-radius: 8px;
            box-shadow: 0 10px 30px rgba(245, 158, 11, 0.3);
        }

        .activation-title {
            font-family: 'Playfair Display', serif;
            font-size: clamp(1.8rem, 4vw, 2.5rem);
            font-weight: 700;
            margin-bottom: 16px;
            background: linear-gradient(45deg, var(--gold) 0%, #fbbf24 25%, #f59e0b 50%, #d97706 75%, var(--gold) 100%);
            background-size: 300% 300%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: shimmer 3s ease-in-out infinite;
        }

        .activation-subtitle {
            font-size: 1.1rem;
            color: var(--off-white);
            margin-bottom: 32px;
            opacity: 0.9;
        }

        .activation-form {
            margin-bottom: 24px;
        }

        .code-input {
            width: 100%;
            padding: 18px 24px;
            font-size: 1.2rem;
            font-weight: 600;
            text-align: center;
            letter-spacing: 3px;
            text-transform: uppercase;
            background: rgba(255,255,255,0.1);
            border: 2px solid var(--glass-border);
            border-radius: 16px;
            color: var(--white);
            outline: none;
            transition: all 0.3s ease;
            font-family: 'Courier New', monospace;
        }

        .code-input:focus {
            border-color: var(--gold);
            background: rgba(255,255,255,0.15);
            box-shadow: 0 0 20px rgba(245, 158, 11, 0.3);
        }

        .code-input::placeholder {
            color: rgba(255,255,255,0.5);
            letter-spacing: 2px;
        }

        .activate-btn {
            width: 100%;
            padding: 18px 24px;
            background: linear-gradient(45deg, var(--primary-purple), var(--secondary-purple));
            border: 2px solid var(--gold);
            border-radius: 16px;
            color: var(--white);
            font-family: 'Inter', sans-serif;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 20px;
        }

        .activate-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 15px 30px rgba(139, 92, 246, 0.3);
            background: linear-gradient(45deg, var(--secondary-purple), var(--gold));
        }

        .activate-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .error-message {
            color: #ef4444;
            font-size: 0.9rem;
            margin-top: 12px;
            padding: 12px;
            background: rgba(239, 68, 68, 0.1);
            border-radius: 8px;
            border: 1px solid rgba(239, 68, 68, 0.3);
            display: none;
        }

        .success-message {
            color: #10b981;
            font-size: 0.9rem;
            margin-top: 12px;
            padding: 12px;
            background: rgba(16, 185, 129, 0.1);
            border-radius: 8px;
            border: 1px solid rgba(16, 185, 129, 0.3);
            display: none;
        }

        .activation-help {
            font-size: 0.85rem;
            color: rgba(255,255,255,0.7);
            margin-top: 24px;
            line-height: 1.6;
        }

        /* Page d'accueil avec animation */
        .intro-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #1e1b4b 0%, #312e81 25%, #3730a3 50%, #4338ca 75%, #4f46e5 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            transition: opacity 1s ease, visibility 1s ease;
        }

        .intro-screen.hidden {
            opacity: 0;
            visibility: hidden;
            pointer-events: none;
        }

        /* Logo dans l'intro - grand logo */
        .intro-logo {
            width: 280px;
            height: 68px;
            background: url('assets/logos/hypnotarot-logo.png') center/contain no-repeat;
            margin-bottom: 20px;
            border-radius: 12px;
            box-shadow: 0 15px 40px rgba(245, 158, 11, 0.4);
            animation: logoFloat 3s ease-in-out infinite;
        }

        @keyframes logoFloat {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        .intro-title {
            font-family: 'Playfair Display', serif;
            font-size: clamp(2rem, 6vw, 3.5rem);
            font-weight: 700;
            margin-bottom: 30px;
            background: linear-gradient(45deg, var(--gold) 0%, #fbbf24 25%, #f59e0b 50%, #d97706 75%, var(--gold) 100%);
            background-size: 300% 300%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: shimmer 3s ease-in-out infinite;
            text-align: center;
        }

        .intro-video-container {
            position: relative;
            max-width: 400px;
            width: 90%;
            border-radius: 24px;
            overflow: hidden;
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 2px solid var(--glass-border);
            box-shadow: var(--shadow-xl);
            margin-bottom: 40px;
        }

        .intro-video-container::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, var(--primary-purple), var(--secondary-purple), var(--gold), var(--primary-purple));
            border-radius: 26px;
            z-index: -1;
            background-size: 300% 300%;
            animation: gradientRotate 4s ease infinite;
        }

        .enter-btn {
            padding: 18px 40px;
            background: linear-gradient(45deg, var(--primary-purple), var(--secondary-purple));
            border: 2px solid var(--gold);
            border-radius: 50px;
            color: var(--white);
            font-family: 'Inter', sans-serif;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            border: none;
        }

        .enter-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 20px 40px rgba(139, 92, 246, 0.3);
            background: linear-gradient(45deg, var(--secondary-purple), var(--gold));
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 2;
            opacity: 0;
            transition: opacity 1s ease 0.5s;
        }

        .container.visible {
            opacity: 1;
        }

        /* Floating particles background */
        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }

        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: var(--gold);
            border-radius: 50%;
            opacity: 0.6;
            animation: float 6s infinite ease-in-out;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
        }

        @keyframes shimmer {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        @keyframes gradientRotate {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        /* Header moderne avec logo */
        header {
            text-align: center;
            margin-bottom: 60px;
            padding: 60px 0;
            position: relative;
        }

        .header-logo {
            width: 200px;
            height: 48px;
            background: url('assets/logos/hypnotarot-logo.png') center/contain no-repeat;
            margin: 0 auto 30px auto;
            border-radius: 8px;
            box-shadow: 0 15px 40px rgba(245, 158, 11, 0.3);
        }

        .header-glow {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 400px;
            height: 400px;
            background: radial-gradient(circle, rgba(139, 92, 246, 0.3) 0%, transparent 70%);
            border-radius: 50%;
            filter: blur(60px);
            z-index: -1;
        }

        h1 {
            font-family: 'Playfair Display', serif;
            font-size: clamp(2.5rem, 5vw, 4rem);
            font-weight: 700;
            margin-bottom: 20px;
            background: linear-gradient(45deg, var(--gold) 0%, #fbbf24 25%, #f59e0b 50%, #d97706 75%, var(--gold) 100%);
            background-size: 300% 300%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: shimmer 3s ease-in-out infinite;
            position: relative;
        }

        .subtitle {
            font-size: clamp(1rem, 2.5vw, 1.25rem);
            color: var(--off-white);
            margin-bottom: 15px;
            font-weight: 300;
            letter-spacing: 3px;
            text-transform: uppercase;
        }

        .tagline {
            font-style: italic;
            color: var(--light-gold);
            font-size: clamp(0.9rem, 2.2vw, 1.1rem);
            opacity: 0.9;
        }

        .patent-badge {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            padding: 12px 20px;
            border-radius: 50px;
            margin-top: 20px;
            font-size: clamp(0.8rem, 2vw, 0.9rem);
            font-weight: 500;
        }

        /* Video section ultra-moderne */
        .video-section {
            margin-bottom: 80px;
            position: relative;
        }

        .video-container {
            position: relative;
            max-width: 500px;
            margin: 0 auto;
            border-radius: 24px;
            overflow: hidden;
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 2px solid var(--glass-border);
            box-shadow: var(--shadow-xl);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .video-container:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 40px 80px -12px rgba(139, 92, 246, 0.3);
        }

        .video-container::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, var(--primary-purple), var(--secondary-purple), var(--gold), var(--primary-purple));
            border-radius: 26px;
            z-index: -1;
            background-size: 300% 300%;
            animation: gradientRotate 4s ease infinite;
        }

        video {
            width: 100%;
            height: auto;
            display: block;
            border-radius: 22px;
        }

        /* Navigation ultra-moderne */
        .navigation {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 24px;
            margin-bottom: 80px;
        }

        .nav-card {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            padding: 0;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            box-shadow: var(--shadow-lg);
        }

        .nav-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
            transition: left 0.6s;
        }

        .nav-card:hover::before {
            left: 100%;
        }

        .nav-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 25px 50px rgba(139, 92, 246, 0.2);
            border-color: var(--gold);
        }

        /* Effet spécial pour la carte hypnose */
        .nav-card-hypnose {
            position: relative;
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 2px solid transparent;
            border-radius: 20px;
            padding: 0;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            overflow: hidden;
            box-shadow: var(--shadow-xl);
        }

        .nav-card-hypnose::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, var(--primary-purple), var(--secondary-purple), var(--gold), var(--primary-purple));
            border-radius: 22px;
            z-index: -1;
            background-size: 300% 300%;
            animation: gradientRotate 4s ease infinite;
        }

        .nav-card-hypnose::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
            transition: left 0.6s;
            z-index: 1;
        }

        .nav-card-hypnose:hover::after {
            left: 100%;
        }

        .nav-card-hypnose:hover {
            transform: translateY(-12px) scale(1.05);
            box-shadow: 0 30px 60px rgba(139, 92, 246, 0.3);
        }

        .nav-btn {
            width: 100%;
            padding: 32px 24px;
            background: none;
            border: none;
            color: var(--white);
            font-family: inherit;
            font-size: clamp(1rem, 2.5vw, 1.1rem);
            font-weight: 600;
            cursor: pointer;
            text-align: left;
            display: flex;
            align-items: center;
            gap: 16px;
            position: relative;
            z-index: 2;
        }

        .nav-icon {
            font-size: clamp(1.2rem, 3vw, 1.5rem);
            width: 48px;
            height: 48px;
            background: linear-gradient(45deg, var(--primary-purple), var(--secondary-purple));
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .nav-text {
            flex: 1;
        }

        .nav-subtitle {
            font-size: clamp(0.75rem, 2vw, 0.85rem);
            color: var(--off-white);
            opacity: 0.7;
            font-weight: 400;
            margin-top: 4px;
        }

        /* Content sections modernisées */
        .content-section {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 24px;
            padding: clamp(24px, 5vw, 48px);
            margin-bottom: 48px;
            box-shadow: var(--shadow-xl);
            display: none;
            position: relative;
            overflow: hidden;
        }

        .content-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--primary-purple), var(--gold), var(--secondary-purple));
        }

        .content-section.active {
            display: block;
            animation: slideInUp 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(40px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .section-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .content-section h2 {
            font-family: 'Playfair Display', serif;
            font-size: clamp(1.8rem, 4vw, 2.5rem);
            font-weight: 700;
            background: linear-gradient(45deg, var(--gold), var(--light-gold));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 16px;
        }

        .section-subtitle {
            font-size: clamp(0.9rem, 2.2vw, 1.1rem);
            color: var(--off-white);
            opacity: 0.8;
            max-width: 600px;
            margin: 0 auto;
        }

        .content-section h3 {
            font-family: 'Playfair Display', serif;
            color: var(--light-gold);
            font-size: clamp(1.3rem, 3vw, 1.75rem);
            margin: 40px 0 20px 0;
            position: relative;
            padding-left: 20px;
        }

        .content-section h3::before {
            content: '';
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 4px;
            height: 24px;
            background: linear-gradient(45deg, var(--primary-purple), var(--gold));
            border-radius: 2px;
        }

        .content-section h4 {
            color: var(--off-white);
            font-size: clamp(1rem, 2.5vw, 1.2rem);
            margin: 24px 0 12px 0;
            font-weight: 600;
        }

        .content-section p {
            font-size: clamp(0.95rem, 2.2vw, 1.1rem);
            line-height: 1.8;
            margin-bottom: 20px;
            color: rgba(255, 255, 255, 0.9);
        }

        .content-section ul {
            padding-left: 20px;
            margin-bottom: 20px;
        }

        .content-section li {
            margin-bottom: 8px;
            font-size: clamp(0.95rem, 2.2vw, 1.1rem);
            line-height: 1.6;
        }

        /* Audio player AMÉLIORÉ avec sons d'ambiance - VERSION AVANCÉE */
        .audio-section {
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(245, 158, 11, 0.1));
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            padding: 32px;
            margin: 32px 0;
            text-align: center;
            position: relative;
        }

        .audio-controls {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 25px;
            margin: 24px 0;
        }

        .audio-player {
            width: 100%;
            max-width: 500px;
        }

        audio {
            width: 100%;
            height: 60px;
            border-radius: 30px;
            filter: drop-shadow(0 10px 20px rgba(0,0,0,0.3));
        }

        /* Contrôles sons d'ambiance */
        .ambient-controls {
            background: var(--glass-bg);
            backdrop-filter: blur(15px);
            border: 1px solid var(--glass-border);
            border-radius: 16px;
            padding: 24px;
            width: 100%;
            max-width: 500px;
            margin: 20px 0;
        }

        .ambient-controls h4 {
            color: var(--light-gold);
            margin-bottom: 16px;
            font-family: 'Playfair Display', serif;
            font-size: 1.2rem;
        }

        .ambient-selector {
            margin-bottom: 20px;
        }

        .ambient-selector select {
            width: 100%;
            padding: 12px 16px;
            background: rgba(255,255,255,0.1);
            border: 2px solid var(--glass-border);
            border-radius: 12px;
            color: var(--white);
            font-size: 0.95rem;
            font-family: inherit;
            outline: none;
            transition: all 0.3s ease;
        }

        .ambient-selector select:focus {
            border-color: var(--gold);
            background: rgba(255,255,255,0.15);
        }

        .ambient-selector option {
            background: var(--deep-purple);
            color: var(--white);
            padding: 8px;
        }

        .ambient-description {
            background: rgba(0,0,0,0.1);
            padding: 15px;
            border-radius: 8px;
            border-left: 3px solid var(--gold);
            margin: 15px 0;
            font-size: 0.9rem;
            color: var(--off-white);
            line-height: 1.5;
        }

        .ambient-description p {
            margin: 0;
            font-style: italic;
        }

        .ambient-description strong {
            color: var(--gold);
        }

        .volume-controls {
            display: grid;
            grid-template-columns: 1fr;
            gap: 16px;
            margin: 20px 0;
        }

        .volume-control {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 0.9rem;
        }

        .volume-control label {
            min-width: 140px;
            color: var(--off-white);
            font-weight: 500;
        }

        .volume-control input[type="range"] {
            flex: 1;
            height: 8px;
            background: rgba(255,255,255,0.2);
            border-radius: 4px;
            outline: none;
            transition: all 0.3s ease;
            -webkit-appearance: none;
            appearance: none;
        }

        .volume-control input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            background: linear-gradient(45deg, var(--gold), var(--light-gold));
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .volume-control input[type="range"]::-webkit-slider-thumb:hover {
            transform: scale(1.2);
            box-shadow: 0 0 10px rgba(245, 158, 11, 0.5);
        }

        .volume-control input[type="range"]::-moz-range-thumb {
            width: 20px;
            height: 20px;
            background: linear-gradient(45deg, var(--gold), var(--light-gold));
            border-radius: 50%;
            cursor: pointer;
            border: none;
        }

        .volume-control span {
            min-width: 50px;
            color: var(--gold);
            font-weight: 600;
            text-align: right;
        }

        .ambient-status {
            background: rgba(0,0,0,0.2);
            padding: 12px 16px;
            border-radius: 8px;
            border-left: 3px solid var(--gold);
            font-size: 0.85rem;
            color: var(--off-white);
            text-align: left;
        }

        .ambient-status.active {
            border-left-color: #10b981;
            background: rgba(16, 185, 129, 0.1);
        }

        .ambient-status.active span {
            color: #10b981;
        }

        .audio-status {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            font-size: 0.9rem;
            color: var(--light-gold);
            margin-top: 15px;
        }

        .status-indicator {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--light-gold);
            animation: pulse 2s infinite;
        }

        .status-indicator.active {
            background: #10b981;
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 0.5; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.2); }
        }

        .wake-lock-toggle {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 15px;
            font-size: 0.9rem;
        }

        .wake-lock-switch {
            position: relative;
            width: 50px;
            height: 25px;
            background: rgba(255,255,255,0.2);
            border-radius: 25px;
            cursor: pointer;
            transition: background 0.3s;
        }

        .wake-lock-switch.active {
            background: var(--gold);
        }

        .wake-lock-switch::before {
            content: '';
            position: absolute;
            top: 2px;
            left: 2px;
            width: 21px;
            height: 21px;
            background: white;
            border-radius: 50%;
            transition: transform 0.3s;
        }

        .wake-lock-switch.active::before {
            transform: translateX(25px);
        }

        .session-info {
            background: var(--glass-bg);
            backdrop-filter: blur(15px);
            border: 1px solid var(--glass-border);
            border-radius: 16px;
            padding: 24px;
            margin-top: 20px;
            text-align: left;
        }

        /* Footer moderne avec logo */
        footer {
            text-align: center;
            margin-top: 80px;
            padding: 48px 24px;
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 24px;
            position: relative;
        }

        .footer-content {
            max-width: 600px;
            margin: 0 auto;
        }

        .footer-logo-img {
            width: 40px;
            height: 40px;
            background: url('assets/logos/favicon.png') center/contain no-repeat;
            margin: 0 auto 20px auto;
            border-radius: 50%;
            box-shadow: 0 10px 25px rgba(245, 158, 11, 0.3);
        }

        .footer-logo {
            font-family: 'Playfair Display', serif;
            font-size: clamp(1.2rem, 3vw, 1.5rem);
            font-weight: 700;
            color: var(--gold);
            margin-bottom: 16px;
        }

        .footer-text {
            color: var(--off-white);
            opacity: 0.8;
            margin-bottom: 8px;
            font-size: clamp(0.85rem, 2vw, 0.95rem);
        }

        .patent-info {
            font-size: clamp(0.8rem, 1.8vw, 0.9rem);
            color: var(--gold);
            font-weight: 500;
        }

        /* RESPONSIVE MOBILE */
        @media (max-width: 768px) {
            .container {
                padding: 16px;
            }
            
            .navigation {
                grid-template-columns: 1fr;
                gap: 16px;
            }
            
            .nav-btn {
                padding: 24px 20px;
                text-align: center;
                flex-direction: column;
                gap: 12px;
            }

            .activation-container {
                padding: 32px 24px;
                margin: 20px;
            }

            .intro-logo {
                width: 240px;
                height: 58px;
            }

            .header-logo {
                width: 160px;
                height: 39px;
            }

            .activation-logo {
                width: 100px;
                height: 24px;
            }

            .volume-control {
                flex-direction: column;
                gap: 8px;
                align-items: flex-start;
            }

            .volume-control label {
                min-width: auto;
                font-size: 0.85rem;
            }

            .volume-control input[type="range"] {
                width: 100%;
                height: 10px;
            }

            .volume-control input[type="range"]::-webkit-slider-thumb {
                width: 24px;
                height: 24px;
            }

            .volume-control span {
                font-size: 0.9rem;
            }
        }

        /* Scroll animations */
        .scroll-reveal {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .scroll-reveal.revealed {
            opacity: 1;
            transform: translateY(0);
        }

        /* Smooth scrolling */
        html {
            scroll-behavior: smooth;
        }

        * {
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
    </style>
</head>
<body>
    <div class="grain-overlay"></div>
    
    <!-- Page d'activation -->
    <div class="activation-screen" id="activationScreen">
        <div class="activation-container">
            <div class="activation-logo"></div>
            <h1 class="activation-title">⭐ L'ÉTOILE ⭐</h1>
            <p class="activation-subtitle">Activez votre carte pour révéler votre destinée</p>
            
            <div class="activation-form">
                <input 
                    type="text" 
                    class="code-input" 
                    id="activationCode" 
                    placeholder="XXXX-XXXX"
                    maxlength="9"
                    autocomplete="off"
                    spellcheck="false"
                >
                <button class="activate-btn" onclick="activateCard()">
                    ✨ Activer ma Carte ✨
                </button>
                
                <div class="error-message" id="errorMessage"></div>
                <div class="success-message" id="successMessage"></div>
            </div>
            
            <div class="activation-help">
                💫 Votre code d'activation se trouve au dos de votre carte physique<br>
                🔒 Cette activation est permanente sur cet appareil
            </div>
        </div>
    </div>
    
    <!-- Page d'accueil avec animation -->
    <div class="intro-screen" id="introScreen">
        <div class="intro-logo"></div>
        <h1 class="intro-title">⭐ L'ÉTOILE ⭐</h1>
        <div class="intro-video-container">
            <video autoplay muted loop playsinline poster="assets/etoile-cover.jpg" id="introVideo">
                <source src="assets/etoile-animation.mp4" type="video/mp4">
                <img src="assets/etoile-cover.jpg" alt="L'Étoile - Animation mystique">
            </video>
        </div>
        <button class="enter-btn" onclick="enterSite()">
            ✨ Entrer dans l'Expérience ✨
        </button>
    </div>
    
    <!-- Floating particles -->
    <div class="particles" id="particles"></div>

    <div class="container" id="mainContainer">
        <!-- Header ultra-moderne avec logo -->
        <header>
            <div class="header-logo"></div>
            <div class="header-glow"></div>
            <h1>⭐ L'ÉTOILE ⭐</h1>
            <p class="subtitle">Arcane Majeur XVII</p>
            <p class="tagline">Symbole d'Espérance & Harmonie Céleste</p>
            <div class="patent-badge">
                🛡️ Innovation Brevetée FR2503190
            </div>
        </header>

        <!-- Video section -->
        <section class="video-section scroll-reveal">
            <div class="video-container">
                <video autoplay muted loop playsinline poster="assets/etoile-cover.jpg">
                    <source src="assets/etoile-animation.mp4" type="video/mp4">
                    <img src="assets/etoile-cover.jpg" alt="L'Étoile - Animation mystique">
                </video>
            </div>
        </section>

        <!-- Navigation moderne -->
        <section class="navigation scroll-reveal">
            <div class="nav-card" onclick="showSection('description')">
                <button class="nav-btn">
                    <div class="nav-icon">📖</div>
                    <div class="nav-text">
                        <div>Description & Utilisation</div>
                        <div class="nav-subtitle">Symbolique et guidance d'usage</div>
                    </div>
                </button>
            </div>
            
            <div class="nav-card" onclick="showSection('interpretations')">
                <button class="nav-btn">
                    <div class="nav-icon">🔮</div>
                    <div class="nav-text">
                        <div>Interprétations & Combinaisons</div>
                        <div class="nav-subtitle">Significations et associations</div>
                    </div>
                </button>
            </div>
            
            <div class="nav-card-hypnose" onclick="showSection('hypnose')">
                <button class="nav-btn">
                    <div class="nav-icon">🎧</div>
                    <div class="nav-text">
                        <div>Séance d'Hypnose</div>
                        <div class="nav-subtitle">Voyage vers l'harmonie intérieure</div>
                    </div>
                </button>
            </div>
            
            <div class="nav-card-hypnose" onclick="showSection('meditation')">
                <button class="nav-btn">
                    <div class="nav-icon">🎧</div>
                    <div class="nav-text">
                        <div>Séance de Méditation</div>
                        <div class="nav-subtitle">Connexion à l'essence stellaire</div>
                    </div>
                </button>
            </div>
            
            <div class="nav-card" onclick="showSection('tirages')">
                <button class="nav-btn">
                    <div class="nav-icon">🃏</div>
                    <div class="nav-text">
                        <div>Méthodes de Tirage</div>
                        <div class="nav-subtitle">Techniques de consultation</div>
                    </div>
                </button>
            </div>
            
            <div class="nav-card" onclick="showSection('metaphore')">
                <button class="nav-btn">
                    <div class="nav-icon">✨</div>
                    <div class="nav-text">
                        <div>Métaphore & Histoire</div>
                        <div class="nav-subtitle">Sagesse ancestrale incarnée</div>
                    </div>
                </button>
            </div>
        </section>

        <!-- Section 1: Description -->
        <section id="description" class="content-section scroll-reveal">
            <div class="section-header">
                <h2>Description de L'Étoile</h2>
                <p class="section-subtitle">Découvrez la symbolique profonde et l'utilisation spirituelle de cette carte majeure</p>
            </div>
            
            <h3>Symbolique Visuelle</h3>
            <p>L'Étoile est l'une des plus belles lames du Tarot. Elle émane une sensation d'harmonie, de spiritualité et de sensibilité - un véritable souffle de joie cosmique qui traverse les âges.</p>
            
            <p>Au centre de la carte, une belle jeune femme aux cheveux blonds et bouclés est agenouillée nue au bord d'un cours d'eau sacré. La nudité symbolise la pureté absolue de l'âme. Comme la Tempérance, elle tient deux amphores dans ses mains, mais elle est plus gracieuse, plus féminine et plus fine. L'eau qu'elle verse entre ses genoux symbolise la fécondité spirituelle et la connexion entre le ciel et la terre.</p>

            <h3>Éléments Symboliques</h3>
            <ul>
                <li><strong>Les sept étoiles dorées :</strong> Représentent les chakras et les corps célestes, entourant une étoile centrale à seize branches</li>
                <li><strong>L'étoile à 16 branches :</strong> Huit rouges (passion terrestre) et huit noires (mystères cachés), symbolisant l'équilibre cosmique</li>
                <li><strong>La couleur dorée dominante :</strong> Évoque l'illumination spirituelle et la guidance divine</li>
                <li><strong>Les amphores sacrées :</strong> Contrastent avec la peau rosée, représentant l'échange énergétique constant</li>
                <li><strong>L'eau pure cristalline :</strong> Symbolise la purification, la fécondité et le chemin vers la sagesse</li>
                <li><strong>Les arbres de vie :</strong> Enracinement terrestre maintenant la connexion spirituelle</li>
            </ul>
        </section>

        <!-- Section 2: Interprétations -->
        <section id="interpretations" class="content-section scroll-reveal">
            <div class="section-header">
                <h2>Interprétations & Combinaisons</h2>
                <p class="section-subtitle">Explorez les significations multiples et les associations mystiques de L'Étoile</p>
            </div>
            
            <h3>Significations selon Position</h3>
            
            <h4>🌟 Lame Droite - L'Illumination :</h4>
            <p>Culte du beau et du superficiel, recherche d'esthétique et d'harmonie. Brillantes perspectives d'avenir, réussite guidée par l'intuition, aide apportée par des amis bienveillants, prospérité spirituelle et matérielle, révélations mystiques, développement de la clairvoyance, "fortune passive" qui coule naturellement, générosité du cœur, beauté rayonnante, luxe mérité, discrétion sage, esprit romantique épanoui, charme magnétique, attirance mutuelle, bonté naturelle, amour sensuel et spirituel, résolution imminente et harmonieuse d'un problème complexe.</p>

            <h4>🌙 Lame Renversée - L'Obscurcissement :</h4>
            <p>Espoirs cruellement déçus, pessimisme envahissant, malchance persistante, déchéance physique et spirituelle. Désillusions profondes, malaises intimes non résolus, incertitude psychologique paralysante, malchance dans les entreprises, passivité excessive qui entrave le progrès, inaction face aux opportunités, erreurs graves d'évaluation des situations et des personnes.</p>

            <h3>Combinaisons Fréquentes avec L'Étoile</h3>
            <ul>
                <li><strong>L'Étoile + La Mort :</strong> Grave maladie mais transformation spirituelle profonde</li>
                <li><strong>L'Étoile + La Roue de Fortune :</strong> Le retour de la chance après une période difficile</li>
                <li><strong>L'Étoile + Sept de Denier :</strong> Perte d'argent sans gravité, compensée par gains spirituels</li>
                <li><strong>L'Étoile + L'Amoureux :</strong> Découverte du grand amour, union spirituelle</li>
                <li><strong>L'Étoile + La Lune :</strong> Tromperie qui se conclut par une révélation libératrice</li>
                <li><strong>L'Étoile + Le Soleil :</strong> Idéalisme récompensé et glorifié, succès éclatant</li>
            </ul>
        </section>

        <!-- Section 3: Hypnose AVANCÉE -->
        <section id="hypnose" class="content-section scroll-reveal">
            <div class="section-header">
                <h2>Séance d'Hypnose de L'Étoile</h2>
                <p class="section-subtitle">Voyage hypnotique vers l'espoir, la purification et l'harmonie cosmique</p>
            </div>
            
            <div class="audio-section">
                <h3>🎧 Immersion: "Sous le Manteau Étoilé"</h3>
                
                <div class="audio-controls">
                    <div class="audio-player">
                        <audio controls preload="metadata" id="hypnosisAudio">
                            <source src="assets/etoile-hypnose.mp3" type="audio/mpeg">
                            Votre navigateur ne supporte pas cette expérience audio immersive.
                        </audio>
                    </div>
                    
                    <!-- Contrôles sons d'ambiance -->
                    <div class="ambient-controls">
                        <h4>🌊 Sons d'Induction - Version Essentielle</h4>
                        <div class="ambient-selector">
                            <select id="ambianceSelect" onchange="changeAmbiance()">
                                <option value="none">Aucun son d'ambiance</option>
                                <option value="binaural">🧠 Fréquences Binaurales (Thêta 6Hz) - Induction hypnotique profonde</option>
                                <option value="schumann">⚡ Résonance de Schumann (7.83Hz) - Harmonisation terrestre</option>
                                <option value="whitenoise">🔇 Bruit Blanc Premium - Isolation sonore totale</option>
                            </select>
                        </div>
                        
                        <div class="ambient-description" id="ambientDescription">
                            <p><em>Sélectionnez un son d'ambiance pour enrichir votre expérience hypnotique</em></p>
                        </div>
                        
                        <div class="volume-controls">
                            <div class="volume-control">
                                <label>🎙️ Volume Hypnose:</label>
                                <input type="range" id="hypnosisVolume" min="0" max="100" value="80" onchange="updateVolumes()">
                                <span id="hypnosisVolumeText">80%</span>
                            </div>
                            <div class="volume-control">
                                <label>🌊 Volume Ambiance:</label>
                                <input type="range" id="ambianceVolume" min="0" max="100" value="30" onchange="updateVolumes()">
                                <span id="ambianceVolumeText">30%</span>
                            </div>
                        </div>
                        
                        <div class="ambient-status" id="ambientStatus">
                            <span>🔇 Aucune ambiance sélectionnée</span>
                        </div>
                    </div>
                    
                    <div class="audio-status">
                        <div class="status-indicator" id="statusIndicator"></div>
                        <span id="statusText">Prêt pour l'écoute</span>
                    </div>
                    
                    <div class="wake-lock-toggle">
                        <span>Maintenir l'écran allumé :</span>
                        <div class="wake-lock-switch" id="wakeLockSwitch" onclick="toggleWakeLock()"></div>
                    </div>
                </div>
                
                <div class="session-info">
                    <h4>📋 Protocole de la Séance Stellaire</h4>
                    <p><strong>⏱️ Durée totale :</strong> 18 minutes d'immersion complète</p>
                    <p><strong>🎯 Thème central :</strong> Reconnexion à l'espoir cosmique, purification énergétique profonde et harmonisation avec les cycles célestes</p>
                    
                    <h4>🎭 Objectifs Transformationnels :</h4>
                    <ul>
                        <li><strong>🌟 Réactivation de l'espoir :</strong> Retrouver une confiance inébranlable en l'avenir</li>
                        <li><strong>💎 Reconnexion à l'essence :</strong> Redécouvrir votre beauté intérieure authentique</li>
                        <li><strong>🔄 Purification énergétique :</strong> Nettoyer les résidus émotionnels et les blocages</li>
                        <li><strong>⚖️ Harmonisation cosmique :</strong> Aligner vos vibrations avec les rythmes universels</li>
                        <li><strong>🎨 Activation créative :</strong> Libérer votre potentiel artistique et intuitif</li>
                    </ul>
                    
                    <h4>📚 Instructions Préparatoires :</h4>
                    <ul>
                        <li>🏡 Créez un sanctuaire de silence dans un espace consacré</li>
                        <li>🎧 Utilisez des écouteurs haute qualité pour une immersion sonore optimale</li>
                        <li>🕯️ Allumez une bougie blanche ou dorée (optionnel mais recommandé)</li>
                        <li>📱 Activez le mode "Ne pas déranger" et le maintien d'écran</li>
                        <li>🧘 Adoptez une position de repos complet (allongé de préférence)</li>
                        <li>👁️ Fermez les yeux et respirez consciemment avant de commencer</li>
                    </ul>
                </div>
            </div>

            <h3>🌙 Préparation Rituelle Pré-Séance</h3>
            <ol>
                <li><strong>Purification de l'espace :</strong> Aérez la pièce et visualisez une lumière dorée qui chasse toute énergie stagnante</li>
                <li><strong>Centrage énergétique :</strong> Placez une main sur le cœur, l'autre sur le plexus solaire</li>
                <li><strong>Intention claire :</strong> Formulez mentalement votre désir de transformation</li>
                <li><strong>Connexion stellaire :</strong> Imaginez un fil de lumière vous reliant à l'étoile polaire</li>
                <li><strong>Abandon confiant :</strong> Lâchez prise et faites confiance au processus</li>
            </ol>

            <h3>🌅 Intégration Post-Séance</h3>
            <p>Après cette expérience transformatrice, accordez-vous un retour en douceur à la réalité ordinaire. Buvez lentement un grand verre d'eau pure, bougez délicatement vos membres et prenez plusieurs respirations conscientes. Notez immédiatement vos ressentis, visions ou messages reçus dans un carnet dédié à votre évolution spirituelle. Cette pratique régulière amplifiera les bénéfices et créera un pont permanent vers votre guidance intérieure.</p>
        </section>

        <!-- Section 4: Méditation -->
        <section id="meditation" class="content-section scroll-reveal">
            <div class="section-header">
                <h2>Séance de Méditation de L'Étoile</h2>
                <p class="section-subtitle">Connexion contemplative à l'essence stellaire et à la sagesse cosmique</p>
            </div>
            
            <div class="audio-section">
                <h3>🎧 Contemplation: "Dialogue avec l'Étoile Intérieure"</h3>
                
                <div class="audio-controls">
                    <div class="audio-player">
                        <audio controls preload="metadata" id="meditationAudio">
                            <source src="assets/etoile-meditation.mp3" type="audio/mpeg">
                            Votre navigateur ne supporte pas cette expérience audio contemplative.
                        </audio>
                    </div>
                </div>
                
                <div class="session-info">
                    <h4>📋 Protocole de la Séance Méditative</h4>
                    <p><strong>⏱️ Durée totale :</strong> 6 minutes et 30 secondes de contemplation profonde</p>
                    <p><strong>🎯 Thème central :</strong> Connexion à l'essence stellaire, développement de l'intuition et communion avec la sagesse universelle</p>
                    <p><strong>🌟 Technique méditative :</strong> Méditation guidée associant visualisation des constellations, respiration cosmique et ancrage terrestre.</p>
                    <p><strong>💫 Résultats espérés :</strong> Clarté mentale accrue, paix intérieure durable, éveil de la conscience supérieure, harmonisation des énergies.</p>
                </div>
            </div>
        </section>

        <!-- Section 5: Tirages -->
        <section id="tirages" class="content-section scroll-reveal">
            <div class="section-header">
                <h2>Méthodes de Tirage Étoilées</h2>
                <p class="section-subtitle">Techniques de consultation sacrées utilisant la puissance de L'Étoile</p>
            </div>
            
            <h3>⭐ Le Grand Tirage de l'Espoir Cosmique</h3>
            <p>Une méthode puissante en sept cartes disposées selon la constellation de la Grande Ourse, révélant votre chemin de guidance spirituelle et vos potentiels cachés.</p>
            
            <h4>🔮 Positions des Cartes :</h4>
            <ul>
                <li><strong>Position 1 - L'Étoile Polaire :</strong> Votre guidance spirituelle actuelle</li>
                <li><strong>Position 2 - L'Horizon Étoilé :</strong> Les opportunités qui s'offrent à vous</li>
                <li><strong>Position 3 - La Constellation Cachée :</strong> Vos talents inexploités</li>
                <li><strong>Position 4 - Le Rayon de Lumière :</strong> L'aide qui vous parvient</li>
                <li><strong>Position 5 - L'Ombre Stellaire :</strong> Ce qu'il faut libérer</li>
                <li><strong>Position 6 - La Voie Lactée :</strong> Votre chemin d'évolution</li>
                <li><strong>Position 7 - L'Étoile Filante :</strong> La réalisation de vos souhaits</li>
            </ul>

            <h3>🌟 Le Tirage de la Purification (3 cartes)</h3>
            <p>Méthode simple mais efficace pour identifier les blocages énergétiques et trouver le chemin de la guérison spirituelle.</p>
            
            <h4>Structure du tirage :</h4>
            <ul>
                <li><strong>Carte 1 - Ce qui doit être purifié :</strong> Les énergies stagnantes à libérer</li>
                <li><strong>Carte 2 - L'eau de purification :</strong> Les moyens de transformation</li>
                <li><strong>Carte 3 - L'étoile renouvelée :</strong> L'état d'harmonie à atteindre</li>
            </ul>
        </section>

        <!-- Section 6: Métaphore -->
        <section id="metaphore" class="content-section scroll-reveal">
            <div class="section-header">
                <h2>La Métaphore Éternelle de L'Étoile</h2>
                <p class="section-subtitle">L'histoire mystique de Céleste, gardienne de la lumière cosmique</p>
            </div>
            
            <h3>✨ L'Épopée de Céleste, la Puiseuse d'Étoiles ✨</h3>
            
            <p>Il était une fois, dans un royaume englouti par une obscurité séculaire, une jeune femme d'une beauté surnaturelle nommée Céleste. Ses cheveux dorés captaient les derniers rayons de lumière céleste, et ses yeux reflétaient la sagesse des anciennes civilisations perdues.</p>

            <p>Depuis des années, le royaume languissait sous un voile de tristesse et de désespoir. Les récoltes avaient cessé de pousser, les rivières s'étaient taries, et les habitants avaient perdu foi en l'avenir. Les sages avaient prédit qu'seule une âme pure pourrait restaurer l'harmonie entre le ciel et la terre.</p>

            <h4>🌟 La Révélation Nocturne</h4>
            <p>Une nuit, guidée par un rêve prophétique, Céleste se dirigea vers la source sacrée au cœur de la forêt étoilée. Là, sous un ciel parsemé de sept étoiles brillantes disposées autour d'une huitième étoile centrale aux seize branches, elle reçut une vision divine.</p>

            <p>Les déesses des eaux lui apparurent et lui confièrent deux amphores magiques : l'une contenait l'eau de la purification terrestre, l'autre l'essence de la sagesse céleste. "Ton cœur pur et tes intentions désintéressées font de toi la gardienne de l'équilibre cosmique", lui dirent-elles.</p>

            <h4>💧 Le Rituel de Régénération</h4>
            <p>Céleste comprit sa mission. Elle devait verser l'eau sacrée selon un rituel ancien : une main dirigée vers la terre pour nourrir et purifier, l'autre vers les cieux pour maintenir la connexion divine. Ce geste symbolique rétablirait le flux énergétique entre les deux mondes.</p>

            <p>Agenouillée au bord de la source, dans sa nudité symbolisant la pureté absolue de l'âme, elle commença le rituel sous le regard bienveillant des étoiles. Chaque goutte d'eau versée ravivait l'espoir dans le cœur des habitants, chaque geste gracieux harmonisait les énergies cosmiques.</p>

            <h4>🌈 La Renaissance du Royaume</h4>
            <p>Peu à peu, la magie opéra. Les sources se remirent à couler, les jardins refleurirent, et une lumière douce et dorée enveloppa le royaume. Mais plus important encore, l'espoir renaissait dans les cœurs. Les habitants retrouvèrent leur capacité à rêver, à créer, à aimer.</p>

            <p>Céleste était devenue L'Étoile, symbole éternel d'espérance et de renouveau. Son histoire nous enseigne que même dans les moments les plus sombres, il existe toujours une lumière intérieure capable de transformer notre réalité et celle de notre entourage.</p>

            <h4>🔮 L'Enseignement Spirituel</h4>
            <p>Cette métaphore révèle les mystères profonds de L'Étoile : nous portons tous en nous cette capacité de purification et de régénération. Comme Céleste, nous pouvons devenir des canaux entre le divin et le terrestre, des gardiens de l'espoir pour nous-mêmes et pour autrui.</p>

            <p>L'Étoile nous rappelle que la vraie beauté réside dans la pureté d'intention, que la vraie force naît de la vulnérabilité acceptée, et que la vraie magie émerge de notre capacité à faire confiance aux mystères de l'univers.</p>
        </section>

        <!-- Footer moderne avec logo -->
        <footer class="scroll-reveal">
            <div class="footer-content">
                <div class="footer-logo-img"></div>
                <div class="footer-logo">HypnoTarot</div>
                <p class="footer-text">L'Étoile vous guide vers l'harmonie cosmique et l'éveil spirituel</p>
                <p class="footer-text">Expérience mystique authentique • Technologie NFC révolutionnaire</p>
                <p class="patent-info">🛡️ Innovation Brevetée FR2503190 • 2025</p>
            </div>
        </footer>
    </div>

    <script>
        // Variables globales pour la gestion audio et activation
        let wakeLock = null;
        let audioElement = null;
        let isAudioActive = false;
        let isActivated = false;
        let ambianceAudio = null;
        let audioContext = null;
        let ambianceNodes = {};

        // Générateur de sons d'ambiance
        class AmbianceGenerator {
            constructor() {
                this.audioContext = null;
                this.masterGain = null;
                this.sources = {};
            }

            async init() {
                if (!this.audioContext) {
                    this.audioContext = new (window.AudioContext || window.webkitAudioContext)();
                    this.masterGain = this.audioContext.createGain();
                    this.masterGain.connect(this.audioContext.destination);
                    this.masterGain.gain.value = 0.3; // Volume par défaut 30%
                }
                
                if (this.audioContext.state === 'suspended') {
                    await this.audioContext.resume();
                }
            }

            // Générateur de fréquences binaurales
            createBinauralBeats(frequency = 6) {
                const oscillator1 = this.audioContext.createOscillator();
                const oscillator2 = this.audioContext.createOscillator();
                const gain1 = this.audioContext.createGain();
                const gain2 = this.audioContext.createGain();
                const merger = this.audioContext.createChannelMerger(2);

                oscillator1.frequency.setValueAtTime(200, this.audioContext.currentTime);
                oscillator2.frequency.setValueAtTime(200 + frequency, this.audioContext.currentTime);
                
                oscillator1.type = 'sine';
                oscillator2.type = 'sine';
                
                gain1.gain.value = 0.1;
                gain2.gain.value = 0.1;

                oscillator1.connect(gain1);
                oscillator2.connect(gain2);
                gain1.connect(merger, 0, 0);
                gain2.connect(merger, 0, 1);
                merger.connect(this.masterGain);

                return { oscillator1, oscillator2, gain1, gain2 };
            }

            // Générateur de bruit blanc amélioré (moins saccadé)
            createWhiteNoise() {
                const bufferSize = this.audioContext.sampleRate * 4; // Buffer plus long
                const buffer = this.audioContext.createBuffer(2, bufferSize, this.audioContext.sampleRate);
                
                // Stéréo pour un meilleur rendu
                for (let channel = 0; channel < 2; channel++) {
                    const output = buffer.getChannelData(channel);
                    for (let i = 0; i < bufferSize; i++) {
                        // Algorithme Pink Noise plus doux
                        output[i] = (Math.random() * 2 - 1) * 0.3;
                        
                        // Lissage pour réduire les saccades
                        if (i > 0) {
                            output[i] = output[i] * 0.8 + output[i-1] * 0.2;
                        }
                    }
                }

                const source = this.audioContext.createBufferSource();
                source.buffer = buffer;
                source.loop = true;
                
                // Filtre passe-bas pour adoucir
                const filter = this.audioContext.createBiquadFilter();
                filter.type = 'lowpass';
                filter.frequency.value = 8000;
                filter.Q.value = 0.5;
                
                const gain = this.audioContext.createGain();
                gain.gain.value = 0.03;
                
                source.connect(filter);
                filter.connect(gain);
                gain.connect(this.masterGain);

                return { source, gain, filter };
            }

            // Résonance de Schumann (7.83 Hz)
            createSchumannResonance() {
                const carrier = this.audioContext.createOscillator();
                const modulator = this.audioContext.createOscillator();
                const gain = this.audioContext.createGain();
                const modulatorGain = this.audioContext.createGain();
                
                carrier.frequency.value = 110; // Note base
                modulator.frequency.value = 7.83; // Fréquence Schumann
                
                carrier.type = 'sine';
                modulator.type = 'sine';
                
                modulatorGain.gain.value = 50;
                gain.gain.value = 0.04;
                
                modulator.connect(modulatorGain);
                modulatorGain.connect(carrier.frequency);
                carrier.connect(gain);
                gain.connect(this.masterGain);

                return { carrier, modulator, gain };
            }

            async startAmbiance(type) {
                await this.init();
                this.stopAmbiance();

                switch (type) {
                    case 'binaural':
                        this.sources.current = this.createBinauralBeats(6);
                        this.sources.current.oscillator1.start();
                        this.sources.current.oscillator2.start();
                        break;
                    
                    case 'whitenoise':
                        this.sources.current = this.createWhiteNoise();
                        this.sources.current.source.start();
                        break;
                    
                    case 'schumann':
                        this.sources.current = this.createSchumannResonance();
                        this.sources.current.carrier.start();
                        this.sources.current.modulator.start();
                        break;
                }
            }

            stopAmbiance() {
                if (this.sources.current) {
                    try {
                        if (Array.isArray(this.sources.current)) {
                            this.sources.current.forEach(node => {
                                if (node.oscillator) node.oscillator.stop();
                            });
                        } else {
                            if (this.sources.current.oscillator) this.sources.current.oscillator.stop();
                            if (this.sources.current.oscillator1) this.sources.current.oscillator1.stop();
                            if (this.sources.current.oscillator2) this.sources.current.oscillator2.stop();
                            if (this.sources.current.source) this.sources.current.source.stop();
                            if (this.sources.current.carrier) this.sources.current.carrier.stop();
                            if (this.sources.current.modulator) this.sources.current.modulator.stop();
                            if (this.sources.current.lfo) this.sources.current.lfo.stop();
                        }
                    } catch (e) {
                        console.log('Audio node already stopped');
                    }
                    this.sources.current = null;
                }
            }

            setVolume(volume) {
                if (this.masterGain) {
                    this.masterGain.gain.value = volume / 100;
                }
            }
        }

        // Instance globale du générateur d'ambiance
        let ambianceGenerator = new AmbianceGenerator();

        // Contrôle des sons d'ambiance
        async function changeAmbiance() {
            const select = document.getElementById('ambianceSelect');
            const status = document.getElementById('ambientStatus');
            const description = document.getElementById('ambientDescription');
            const selectedValue = select.value;
            
            // Descriptions détaillées pour chaque ambiance
            const descriptions = {
                none: '<p><em>Sélectionnez un son d\'ambiance pour enrichir votre expérience hypnotique</em></p>',
                binaural: '<p><strong>Fréquences Binaurales Thêta (6Hz)</strong><br><em>Ces ondes cérébrales favorisent un état de relaxation profonde et de créativité. Parfait pour la méditation et l\'induction hypnotique.</em></p>',
                schumann: '<p><strong>Résonance de Schumann (7.83Hz)</strong><br><em>Fréquence naturelle de la Terre qui harmonise le système nerveux et favorise l\'équilibre énergétique.</em></p>',
                whitenoise: '<p><strong>Bruit Blanc Premium</strong><br><em>Masque les bruits extérieurs et crée un cocon sonore optimal pour l\'immersion totale.</em></p>'
            };

            description.innerHTML = descriptions[selectedValue] || descriptions.none;

            if (selectedValue === 'none') {
                ambianceGenerator.stopAmbiance();
                status.innerHTML = '<span>🔇 Aucune ambiance sélectionnée</span>';
                status.classList.remove('active');
            } else {
                try {
                    await ambianceGenerator.startAmbiance(selectedValue);
                    status.innerHTML = `<span>🎵 Ambiance active : ${select.options[select.selectedIndex].text}</span>`;
                    status.classList.add('active');
                } catch (error) {
                    console.error('Erreur lors du démarrage de l\'ambiance:', error);
                    status.innerHTML = '<span>❌ Erreur de chargement</span>';
                    status.classList.remove('active');
                }
            }
        }

        // Gestion des volumes
        function updateVolumes() {
            const hypnosisVolume = document.getElementById('hypnosisVolume').value;
            const ambianceVolume = document.getElementById('ambianceVolume').value;
            
            document.getElementById('hypnosisVolumeText').textContent = hypnosisVolume + '%';
            document.getElementById('ambianceVolumeText').textContent = ambianceVolume + '%';
            
            // Mise à jour du volume de l'audio principal
            audioElement = document.getElementById('hypnosisAudio');
            if (audioElement) {
                audioElement.volume = hypnosisVolume / 100;
            }
            
            // Mise à jour du volume de l'ambiance
            ambianceGenerator.setVolume(ambianceVolume);
        }

        // Gestion du Wake Lock
        async function toggleWakeLock() {
            const wakeLockSwitch = document.getElementById('wakeLockSwitch');
            
            if ('wakeLock' in navigator) {
                try {
                    if (wakeLock) {
                        await wakeLock.release();
                        wakeLock = null;
                        wakeLockSwitch.classList.remove('active');
                    } else {
                        wakeLock = await navigator.wakeLock.request('screen');
                        wakeLockSwitch.classList.add('active');
                    }
                } catch (err) {
                    console.error('Wake Lock error:', err);
                }
            } else {
                alert('Wake Lock non supporté par ce navigateur');
            }
        }

        // Codes d'activation valides
        const validCodes = [
            'ETOILE-2025', 'XK7M-9P2W', 'Q3W8-R5T1', 'M8N3-B7V2', 'Z9X4-C8Q5',
            'A1B2-C3D4', 'E5F6-G7H8', 'I9J0-K1L2', 'M3N4-O5P6', 'Q7R8-S9T0',
            'TEST-1234', 'DEMO-5678', 'STAR-XXXX'
        ];

        // Vérification de l'activation au chargement
        function checkActivation() {
            const activated = localStorage.getItem('etoile_activated');
            if (activated === 'true') {
                isActivated = true;
                hideActivationScreen();
                return true;
            }
            return false;
        }

        // Fonction d'activation
        function activateCard() {
            const codeInput = document.getElementById('activationCode');
            const errorMessage = document.getElementById('errorMessage');
            const successMessage = document.getElementById('successMessage');
            const activateBtn = document.querySelector('.activate-btn');
            
            const inputCode = codeInput.value.trim().toUpperCase();
            
            // Reset messages
            errorMessage.style.display = 'none';
            successMessage.style.display = 'none';
            
            // Validation
            if (!inputCode) {
                showError('Veuillez entrer votre code d\'activation');
                return;
            }
            
            // Désactiver le bouton pendant la vérification
            activateBtn.disabled = true;
            activateBtn.textContent = '🔍 Vérification...';
            
            // Simulation d'une vérification
            setTimeout(() => {
                if (validCodes.includes(inputCode)) {
                    // Activation réussie
                    localStorage.setItem('etoile_activated', 'true');
                    localStorage.setItem('etoile_activation_date', new Date().toISOString());
                    
                    // Afficher succès
                    successMessage.textContent = '✨ Activation réussie ! Accès à votre expérience mystique...';
                    successMessage.style.display = 'block';
                    
                    // Transition vers l'intro après 2 secondes
                    setTimeout(() => {
                        isActivated = true;
                        hideActivationScreen();
                    }, 2000);
                    
                } else {
                    // Code invalide
                    showError('Code d\'activation invalide. Vérifiez votre carte physique.');
                    
                    // Réactiver le bouton
                    activateBtn.disabled = false;
                    activateBtn.textContent = '✨ Activer ma Carte ✨';
                }
            }, 1500);
        }

        function showError(message) {
            const errorMessage = document.getElementById('errorMessage');
            errorMessage.textContent = message;
            errorMessage.style.display = 'block';
        }

        function hideActivationScreen() {
            const activationScreen = document.getElementById('activationScreen');
            activationScreen.classList.add('hidden');
        }

        // Fonction d'entrée dans le site
        function enterSite() {
            const introScreen = document.getElementById('introScreen');
            const mainContainer = document.getElementById('mainContainer');
            
            // Masquer l'écran d'intro
            introScreen.classList.add('hidden');
            
            // Afficher le contenu principal après transition
            setTimeout(() => {
                mainContainer.classList.add('visible');
                initScrollReveal();
                createParticles();
            }, 500);
        }

        // Navigation entre sections
        function showSection(sectionId) {
            // Masquer toutes les sections
            const sections = document.querySelectorAll('.content-section');
            sections.forEach(section => {
                section.classList.remove('active');
            });
            
            // Afficher la section demandée
            const targetSection = document.getElementById(sectionId);
            if (targetSection) {
                setTimeout(() => {
                    targetSection.classList.add('active');
                }, 100);
                
                // Scroll fluide vers la section
                setTimeout(() => {
                    const yOffset = -20;
                    const y = targetSection.getBoundingClientRect().top + window.pageYOffset + yOffset;
                    window.scrollTo({
                        top: y,
                        behavior: 'smooth'
                    });
                }, 200);
            }
        }

        // Création des particules flottantes
        function createParticles() {
            const particlesContainer = document.getElementById('particles');
            const particleCount = 50;
            
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.top = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 6 + 's';
                particle.style.animationDuration = (3 + Math.random() * 3) + 's';
                particlesContainer.appendChild(particle);
            }
        }

        // Animations de révélation au scroll
        function initScrollReveal() {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('revealed');
                    }
                });
            }, {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            });

            document.querySelectorAll('.scroll-reveal').forEach(el => {
                observer.observe(el);
            });
        }

        // Auto-formatage du code d'activation
        document.addEventListener('DOMContentLoaded', function() {
            // Vérifier d'abord l'activation
            if (checkActivation()) {
                // Déjà activé, masquer l'écran d'activation
                createParticles();
            }
            
            const codeInput = document.getElementById('activationCode');
            if (codeInput) {
                codeInput.addEventListener('input', function(e) {
                    let value = e.target.value.replace(/[^A-Z0-9]/g, '').toUpperCase();
                    
                    // Auto-format avec tiret après 4 caractères
                    if (value.length > 4) {
                        value = value.substring(0, 4) + '-' + value.substring(4, 8);
                    }
                    
                    e.target.value = value;
                });
                
                // Activation avec Enter
                codeInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        activateCard();
                    }
                });
            }

            // Initialiser l'audio principal
            audioElement = document.getElementById('hypnosisAudio');
            if (audioElement) {
                audioElement.addEventListener('play', () => {
                    const statusIndicator = document.getElementById('statusIndicator');
                    const statusText = document.getElementById('statusText');
                    statusIndicator.classList.add('active');
                    statusText.textContent = 'Lecture en cours';
                    isAudioActive = true;
                });

                audioElement.addEventListener('pause', () => {
                    const statusIndicator = document.getElementById('statusIndicator');
                    const statusText = document.getElementById('statusText');
                    statusIndicator.classList.remove('active');
                    statusText.textContent = 'En pause';
                    isAudioActive = false;
                });

                audioElement.addEventListener('ended', () => {
                    const statusIndicator = document.getElementById('statusIndicator');
                    const statusText = document.getElementById('statusText');
                    statusIndicator.classList.remove('active');
                    statusText.textContent = 'Séance terminée';
                    isAudioActive = false;
                });
            }
            
            // Masquer toutes les sections au démarrage
            const sections = document.querySelectorAll('.content-section');
            sections.forEach(section => {
                section.classList.remove('active');
            });
        });
    </script>
</body>
</html>
